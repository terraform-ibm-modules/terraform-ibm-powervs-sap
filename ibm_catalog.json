{
    "products": [
        {
            "name": "deploy-arch-ibm-pvs-sap",
            "label": "SAP on Power",
            "product_kind": "solution",
            "tags": [
                "virtualservers",
                "ibm_created",
                "target_terraform",
                "terraform",
                "reference_architecture",
                "solution",
                "support_ibm"
            ],
            "keywords": [
                "power",
                "sap",
                "sap hana",
                "sap infrastructure",
                "sap certified",
                "power solution",
                "power infrastructure",
                "sap on power",
                "powervs",
                "power framework",
                "sap netweaver",
                "automation",
                "secure",
                "server",
                "networking"
            ],
            "short_description": "Deploy SAP systems on Power Virtual Server with VPC landing zone",
            "long_description": "This deployable architecture is designed to assist you in deploying SAP ERP software landscapes into IBM Cloud on the IBM Power Virtual Server infrastructure. This is the second step in the deployment process for creating a full environment. Before starting this step, you should first deploy 'Power Virtual Server with VPC landing zone'. Once this is completed, you are prepared to start this step.\n\nSAP on Power Virtual Server creates and prepares Power Virtual Server instances for SAP HANA and SAP NetWeaver workloads. After deployment completes, you may (depending on the framework you chose) begin installing SAP on the configured instances or login to your newly created SAP instances directly.",
            "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-powervs-sap/blob/main/solutions/ibm-catalog/deployable-architectures/sap-ready-to-go/#README",
            "offering_icon_url": "data:image/svg+xml;base64,PHN2ZyBpZD0iU0FQb25Qb3dlciIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDMyIDMyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9IjB3cG82d2txd2EiIHgxPSItMTg1NS4yMDgiIHkxPSItMjUwMi41NjMiIHgyPSItMTg1NS4yMDgiIHkyPSItMjUyMi4xNzkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS4wNiAwIDAgLS40OTEgMTk3My42NzYgLTEyMjcuMjkzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIvPjxzdG9wIG9mZnNldD0iLjgiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwODB2MGMwMnZiIiB4MT0iMzI4LjUwMiIgeTE9Ii02NzY1LjY0NyIgeDI9IjMyOC41MDIiIHkyPSItNjc4NS4yNjMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS4wNiAwIDAgLjUxNSAtMzM5Ljk2NyAzNTEzLjI1KSIgeGxpbms6aHJlZj0iIzB3cG82d2txd2EiLz48bGluZWFyR3JhZGllbnQgaWQ9ImRrMDJ3NXQweWMiIHgxPSItOTUzLjI2NiIgeTE9Ii0yODI4LjY1OSIgeDI9Ii05NTMuMjY2IiB5Mj0iLTI4MzguNTMzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuMDYgMCAwIC0uNjY5IDEwMzcuMjE4IC0xODc2LjQzOSkiIHhsaW5rOmhyZWY9IiMwd3BvNndrcXdhIi8+PGxpbmVhckdyYWRpZW50IGlkPSJvbjF6NG9xNmVkIiB4MT0iLTE5MjMuMjUiIHkxPSItMjYyMC4yOSIgeDI9Ii0xOTIzLjI1IiB5Mj0iLTI2MjcuODg1IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuMDYgMCAwIC42NjkgMjA0OC4wOTEgMTc4Mi4zNjQpIiB4bGluazpocmVmPSIjMHdwbzZ3a3F3YSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iZGw0OXc5YXdnZSIgeDE9Ii0xOTE1LjgwMiIgeTE9Ii0zMTkxLjI5NSIgeDI9Ii0xOTE1LjgwMiIgeTI9Ii0zMTk4Ljg4OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxLjA2IDAgMCAuNjY5IDIwNDMuNDggMjE0MS4xMjgpIiB4bGluazpocmVmPSIjMHdwbzZ3a3F3YSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iemI2Y3VlbnRsZyIgeDE9IjAiIHkxPSIzMiIgeDI9IjMyIiB5Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjEiIHN0b3AtY29sb3I9IiMwOGJkYmEiLz48c3RvcCBvZmZzZXQ9Ii45IiBzdG9wLWNvbG9yPSIjMGY2MmZlIi8+PC9saW5lYXJHcmFkaWVudD48bWFzayBpZD0iOG5zZ3FxYnBjZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNMTUuOTgyIDMwYy03LjcyIDAtMTQtNi4yOC0xNC0xNHM2LjI4MS0xNCAxNC0xNCAxNCA2LjI4IDE0IDE0LTYuMjggMTQtMTQgMTR6bTAtMjZjLTYuNjE3IDAtMTIgNS4zODMtMTIgMTJzNS4zODMgMTIgMTIgMTIgMTItNS4zODMgMTItMTItNS4zODMtMTItMTItMTJ6IiBzdHlsZT0iZmlsbDojZmZmIi8+PHBhdGggZD0iTTMwLjY5MSAzMC43MDhIMTEuNzI5bDMtOC43MDggMTAuNDY1LjAxMSA1LjU3Ny0uMDIxLS4wOCA4LjcxOHpNNi45ODIgMjBsLTYgNS40OTRWNi44MDdsNiA1LjAxNVYyMHpNMTYuMDAzIDFoMTQuOTk5djEzLjAzMkgxNi4wMDN6Ii8+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoLTEzNSA3Ljk0MyA2Ljc4NykiIHN0eWxlPSJmaWxsOnVybCgjMHdwbzZ3a3F3YSkiIGQ9Ik00Ljc2NCAxLjk3aDYuMzU3djkuNjM1SDQuNzY0eiIvPjxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDEzNSA4LjEwNiAyNS4zNDQpIiBzdHlsZT0iZmlsbDp1cmwoI3A4MHYwYzAydmIpIiBkPSJNNC45MjggMjAuMjk1aDYuMzU3djEwLjA5OEg0LjkyOHoiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMjcuMTYxIDE4Ljg2MykiIHN0eWxlPSJmaWxsOnVybCgjZGswMnc1dDB5YykiIGQ9Ik0yMy45ODIgMTUuNTYxaDYuMzU3djYuNjA0aC02LjM1N3oiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtNzAuNzkgMTAuMjYyIDI3LjE5NSkiIHN0eWxlPSJmaWxsOnVybCgjb24xejRvcTZlZCkiIGQ9Ik03LjA4NCAyNC42NTVoNi4zNTd2NS4wOEg3LjA4NHoiLz48cGF0aCBkPSJNOC45ODIgMjAuOThoLTZjLTEuMTAzIDAtMi0uODk3LTItMnYtNmMwLTEuMTAzLjg5Ny0yIDItMmg2YzEuMTAzIDAgMiAuODk3IDIgMnY2YzAgMS4xMDMtLjg5NyAyLTIgMnptLTYtOHY2aDYuMDAxdi02SDIuOTgyek0yOS4wMDIgMzFoLTEzYy0xLjEwMyAwLTItLjg5Ny0yLTJ2LTRjMC0xLjEwMy44OTctMiAyLTJoMTNjMS4xMDMgMCAyIC44OTcgMiAydjRjMCAxLjEwMy0uODk3IDItMiAyem0tMTMtNnY0aDEzLjAwMXYtNEgxNi4wMDJ6IiBzdHlsZT0iZmlsbDojZmZmIi8+PGNpcmNsZSBjeD0iMTkuMDAyIiBjeT0iMjciIHI9IjEiIHN0eWxlPSJmaWxsOiNmZmYiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgMTMuNTQzIDQuMDMyKSIgc3R5bGU9ImZpbGw6dXJsKCNkbDQ5dzlhd2dlKSIgZD0iTTEwLjM2NCAxLjQ5Mmg2LjM1N3Y1LjA4aC02LjM1N3oiLz48L21hc2s+PC9kZWZzPjxnIHN0eWxlPSJtYXNrOnVybCgjOG5zZ3FxYnBjZikiPjxwYXRoIHN0eWxlPSJmaWxsOnVybCgjemI2Y3VlbnRsZykiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48L2c+PHBhdGggZD0iTTI1LjQ2MiAxMkgxOWExIDEgMCAwIDEtMS0xVjQuMDM1YTEgMSAwIDAgMSAuOTk3LTFsMTItLjAzNUgzMWExIDEgMCAwIDEgLjc4NCAxLjYyMWwtNS41MzggN2EuOTk4Ljk5OCAwIDAgMS0uNzg0LjM3OXpNMjAgMTBoNC45NzhsMy45NTEtNC45OTRMMjAgNS4wMzJWMTB6IiBzdHlsZT0iZmlsbDojMDAxZDZjIi8+PC9zdmc+",
            "features": [
                {
                    "description": "Power Virtual Server instances are created for you, containing prepared instances for SAP HANA and SAP NetWeaver.",
                    "title": "Create Power Virtual Server instances"
                }
            ],
            "flavors": [
                {
                    "label": "SAP ready PowerVS",
                    "name": "sap-ready-to-go",
                    "install_type": "extension",
                    "working_directory": "solutions/ibm-catalog/deployable-architectures/sap-ready-to-go",
                    "usage_template": "module \"sap_systems\" {\n  source                    = \"https://cm.globalcatalog.cloud.ibm.com/api/v1-beta/offering/source//${{workingDirectory}}?archive=tgz&flavor=${{flavor}}&kind=${{kind}}&name=${{name}}&version=${{version}}\"\n  ibmcloud_api_key          = var.ibmcloud_api_key\n  prerequisite_workspace_id = var.prerequisite_workspace_id\n  powervs_zone              = var.powervs_zone\n  prefix                    = var.prefix\n  ssh_private_key           = var.ssh_private_key\n}",
                    "compliance": {
                        "authority": "scc-v3",
                        "controls": [
                            {
                                "profile": {
                                    "name": "IBM Cloud for Financial Services",
                                    "version": "1.2.0"
                                },
                                "names": [
                                    "AC-2(4)(0)",
                                    "AC-2(7)(b)",
                                    "AC-2(g)",
                                    "AC-6(9)(0)",
                                    "AU-2(a)",
                                    "AU-2(d)",
                                    "AU-3(0)",
                                    "AU-4(0)",
                                    "AU-8(1)(a)",
                                    "AU-8(1)(b)",
                                    "AU-8(a)",
                                    "AU-8(b)",
                                    "AU-11(0)",
                                    "AU-12(a)",
                                    "AU-12(b)",
                                    "AU-12(c)",
                                    "CA-7(d)",
                                    "IA-3(0)",
                                    "SC-2(0)",
                                    "SC-3(0)",
                                    "SC-7(4)(c)",
                                    "SC-8(0)",
                                    "SC-8(1)(0)",
                                    "SC-11(0)",
                                    "SC-23(0)",
                                    "SI-4(a)",
                                    "SI-4(b)",
                                    "SI-4(c)",
                                    "SI-12(0)"
                                ]
                            }
                        ]
                    },
                    "configuration": [
                        {
                            "custom_config": {
                                "config_constraints": {
                                    "catalogID": "da12d6f3-3cb7-402e-9350-878837212a6e",
                                    "flavorConstraint": "powervs-workspace",
                                    "offeringID": "2dd486c7-b317-4aaa-907b-42671485ad96",
                                    "versionConstraint": "\u003e=1.0.0"
                                },
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "type": "schematics_workspace"
                            },
                            "key": "prerequisite_workspace_id",
                            "required": true
                        },
                        {
                            "key": "powervs_zone",
                            "type": "string",
                            "default_value": "",
                            "required": true,
                            "options": [
                                {
                                    "displayname": "London (lon04)",
                                    "value": "lon04"
                                },
                                {
                                    "displayname": "London (lon06)",
                                    "value": "lon06"
                                },
                                {
                                    "displayname": "Frankfurt (eu-de-1)",
                                    "value": "eu-de-1"
                                },
                                {
                                    "displayname": "Frankfurt (eu-de-2)",
                                    "value": "eu-de-2"
                                },
                                {
                                    "displayname": "Toronto (tor01)",
                                    "value": "tor01"
                                },
                                {
                                    "displayname": "Montreal (mon01)",
                                    "value": "mon01"
                                },
                                {
                                    "displayname": "Osaka (osa21)",
                                    "value": "osa21"
                                },
                                {
                                    "displayname": "Tokyo (tok04)",
                                    "value": "tok04"
                                },
                                {
                                    "displayname": "Sydney (syd04)",
                                    "value": "syd04"
                                },
                                {
                                    "displayname": "Sydney (syd05)",
                                    "value": "syd05"
                                },
                                {
                                    "displayname": "Sao Paulo (sao01)",
                                    "value": "sao01"
                                },
                                {
                                    "displayname": "US-south (us-south)",
                                    "value": "us-south"
                                },
                                {
                                    "displayname": "Dallas (dal10)",
                                    "value": "dal10"
                                },
                                {
                                    "displayname": "Dallas (dal12)",
                                    "value": "dal12"
                                },
                                {
                                    "displayname": "US-east (us-east)",
                                    "value": "us-east"
                                }
                            ],
                            "hidden": false,
                            "custom_config": {}
                        },
                        {
                            "key": "prefix",
                            "required": true
                        },
                        {
                            "key": "powervs_sap_network_cidr",
                            "required": true
                        },
                        {
                            "key": "os_image_distro",
                            "type": "string",
                            "default_value": "",
                            "required": true,
                            "options": [
                                {
                                    "displayname": "RHEL",
                                    "value": "RHEL"
                                },
                                {
                                    "displayname": "SLES",
                                    "value": "SLES"
                                }
                            ],
                            "hidden": false,
                            "custom_config": {}
                        },
                        {
                            "key": "create_separate_fs_share",
                            "required": true
                        },
                        {
                            "key": "sap_hana_profile",
                            "required": true
                        },
                        {
                            "key": "sap_hana_hostname",
                            "required": true
                        },
                        {
                            "key": "sap_netweaver_cpu_number",
                            "required": true
                        },
                        {
                            "key": "sap_netweaver_memory_size",
                            "required": true
                        },
                        {
                            "key": "sap_netweaver_hostname",
                            "required": true
                        },
                        {
                            "key": "sap_netweaver_instance_number",
                            "required": true
                        },
                        {
                            "key": "configure_os",
                            "required": true
                        },
                        {
                            "custom_config": {
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "type": "multiline_secure_value"
                            },
                            "key": "ssh_private_key",
                            "required": true,
                            "type": "password"
                        },
                        {
                            "key": "ibmcloud_api_key",
                            "type": "multiline_secure_value",
                            "required": true,
                            "custom_config": {
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "type": "multiline_secure_value"
                            }
                        },
                        {
                            "key": "sap_domain",
                            "required": true
                        },
                        {
                            "key": "default_hana_rhel_image"
                        },
                        {
                            "key": "default_hana_sles_image"
                        },
                        {
                            "key": "default_netweaver_rhel_image"
                        },
                        {
                            "key": "default_netweaver_sles_image"
                        },
                        {
                            "key": "default_shared_fs_rhel_image"
                        },
                        {
                            "key": "default_shared_fs_sles_image"
                        },
                        {
                            "key": "sap_hana_additional_storage_config"
                        },
                        {
                            "key": "sap_hana_custom_storage_config"
                        },
                        {
                            "key": "sap_hana_instance_config"
                        },
                        {
                            "key": "sap_netweaver_instance_config"
                        },
                        {
                            "key": "sap_netweaver_storage_config"
                        },
                        {
                            "key": "sap_share_instance_config"
                        },
                        {
                            "key": "sap_share_storage_config"
                        }
                    ],
                    "outputs": [
                        {
                            "description": "Private IPs of the Share FS instance.",
                            "key": "share_fs_ips"
                        },
                        {
                            "description": "All private IPS of PowerVS instances and Jump IP to access the host.",
                            "key": "powervs_lpars_data"
                        },
                        {
                            "description": "Data from PowerVS infrastructure layer",
                            "key": "infrastructure_data"
                        },
                        {
                            "description": "Public IP of Provided Bastion/JumpServer Host",
                            "key": "access_host_or_ip"
                        },
                        {
                            "description": "All private IPS of HANA instance",
                            "key": "hana_ips"
                        },
                        {
                            "description": "All private IPS of NetWeaver instances",
                            "key": "netweaver_ips"
                        }
                    ],
                    "iam_permissions": [
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "is.vpc"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "transit.gateway"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "directlink.connect"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
                            ],
                            "service_name": "power-iaas"
                        }
                    ],
                    "dependencies": [
                        {
                            "flavors": [
                                "full-stack",
                                "extension"
                            ],
                            "id": "2dd486c7-b317-4aaa-907b-42671485ad96",
                            "name": "deploy-arch-ibm-pvs-inf",
                            "version": ">=1.0.0"
                        }
                    ],
                    "architecture": {
                        "features": [
                            {
                                "description": "Not installed",
                                "title": "SAP solution"
                            },
                            {
                                "description": "SAP HANA Instance: One\n\nSAP NetWeaver Instances: 0,1..N\n\nShared SAP Instance: 0 or 1",
                                "title": "PowerVS instances"
                            },
                            {
                                "description": "Available",
                                "title": "Power Virtual Server with VPC landing zone"
                            },
                            {
                                "description": "Available",
                                "title": "Secure infrastructure on VPC for regulated industries"
                            }
                        ],
                        "diagrams": [
                            {
                                "diagram": {
                                    "caption": "Full SAP environment provisioned on a secure infrastructure on VPC and extended by Power Virtual Servers",
                                    "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-ready-to-go/deploy-arch-ibm-pvs-sap-ready-to-go.svg",
                                    "type": "image/svg+xml"
                                },
                                "description": "'SAP ready PowerVS' variation of 'SAP on secure Power Virtual Servers' creates a basic and expandable SAP system landscape builds on the foundation of the 'Secure infrastructure on VPC for regulated industries' and 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation.\n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nRedundant IBM Cloud Connections provide the network bridge between the IBM Power infrastructure and the IBM VPC and public internet.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management from the 'Secure infrastructure on VPC for regulated industries' and the network connectivity configuration provided by 'Power Virtual Server with VPC landing zone'."
                            }
                        ]
                    }
                }
            ]
        }
    ]
}
