{
  "products": [
    {
      "name": "deploy-arch-ibm-pvs-sap",
      "label": "Power Virtual Server for SAP HANA",
      "product_kind": "solution",
      "tags": [
        "virtualservers",
        "ibm_created",
        "target_terraform",
        "terraform",
        "reference_architecture",
        "solution",
        "support_ibm"
      ],
      "keywords": [
        "power",
        "sap",
        "sap hana",
        "sap infrastructure",
        "sap certified",
        "power solution",
        "power infrastructure",
        "sap on power",
        "powervs",
        "power framework",
        "sap netweaver",
        "automation",
        "secure",
        "server",
        "networking",
        "workspace",
        "hana"
      ],
      "short_description": "Deploy SAP systems on Power Virtual Server with VPC landing zone",
      "long_description": "This deployable architecture is designed to assist you in deploying SAP ERP software landscapes into IBM Cloud on the IBM Power Virtual Server infrastructure. This is the second step in the deployment process for creating a full environment. Before starting this step, you should first deploy 'Power Virtual Server with VPC landing zone'. Once this is completed, you are prepared to start this step.\n\nSAP on Power Virtual Server creates and prepares Power Virtual Server instances for SAP HANA and SAP NetWeaver workloads. After deployment completes, you may (depending on the framework you chose) begin installing SAP on the configured instances or login to your newly created SAP instances directly.",
      "offering_docs_url": "https://cloud.ibm.com/docs/sap-powervs?topic=sap-powervs-automation-solution-overview",
      "offering_icon_url": "data:image/svg+xml;base64,PHN2ZyBpZD0iU0FQb25Qb3dlciIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDMyIDMyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9IjB3cG82d2txd2EiIHgxPSItMTg1NS4yMDgiIHkxPSItMjUwMi41NjMiIHgyPSItMTg1NS4yMDgiIHkyPSItMjUyMi4xNzkiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS4wNiAwIDAgLS40OTEgMTk3My42NzYgLTEyMjcuMjkzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIvPjxzdG9wIG9mZnNldD0iLjgiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwODB2MGMwMnZiIiB4MT0iMzI4LjUwMiIgeTE9Ii02NzY1LjY0NyIgeDI9IjMyOC41MDIiIHkyPSItNjc4NS4yNjMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMS4wNiAwIDAgLjUxNSAtMzM5Ljk2NyAzNTEzLjI1KSIgeGxpbms6aHJlZj0iIzB3cG82d2txd2EiLz48bGluZWFyR3JhZGllbnQgaWQ9ImRrMDJ3NXQweWMiIHgxPSItOTUzLjI2NiIgeTE9Ii0yODI4LjY1OSIgeDI9Ii05NTMuMjY2IiB5Mj0iLTI4MzguNTMzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuMDYgMCAwIC0uNjY5IDEwMzcuMjE4IC0xODc2LjQzOSkiIHhsaW5rOmhyZWY9IiMwd3BvNndrcXdhIi8+PGxpbmVhckdyYWRpZW50IGlkPSJvbjF6NG9xNmVkIiB4MT0iLTE5MjMuMjUiIHkxPSItMjYyMC4yOSIgeDI9Ii0xOTIzLjI1IiB5Mj0iLTI2MjcuODg1IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEuMDYgMCAwIC42NjkgMjA0OC4wOTEgMTc4Mi4zNjQpIiB4bGluazpocmVmPSIjMHdwbzZ3a3F3YSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iZGw0OXc5YXdnZSIgeDE9Ii0xOTE1LjgwMiIgeTE9Ii0zMTkxLjI5NSIgeDI9Ii0xOTE1LjgwMiIgeTI9Ii0zMTk4Ljg4OSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxLjA2IDAgMCAuNjY5IDIwNDMuNDggMjE0MS4xMjgpIiB4bGluazpocmVmPSIjMHdwbzZ3a3F3YSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iemI2Y3VlbnRsZyIgeDE9IjAiIHkxPSIzMiIgeDI9IjMyIiB5Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjEiIHN0b3AtY29sb3I9IiMwOGJkYmEiLz48c3RvcCBvZmZzZXQ9Ii45IiBzdG9wLWNvbG9yPSIjMGY2MmZlIi8+PC9saW5lYXJHcmFkaWVudD48bWFzayBpZD0iOG5zZ3FxYnBjZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNMTUuOTgyIDMwYy03LjcyIDAtMTQtNi4yOC0xNC0xNHM2LjI4MS0xNCAxNC0xNCAxNCA2LjI4IDE0IDE0LTYuMjggMTQtMTQgMTR6bTAtMjZjLTYuNjE3IDAtMTIgNS4zODMtMTIgMTJzNS4zODMgMTIgMTIgMTIgMTItNS4zODMgMTItMTItNS4zODMtMTItMTItMTJ6IiBzdHlsZT0iZmlsbDojZmZmIi8+PHBhdGggZD0iTTMwLjY5MSAzMC43MDhIMTEuNzI5bDMtOC43MDggMTAuNDY1LjAxMSA1LjU3Ny0uMDIxLS4wOCA4LjcxOHpNNi45ODIgMjBsLTYgNS40OTRWNi44MDdsNiA1LjAxNVYyMHpNMTYuMDAzIDFoMTQuOTk5djEzLjAzMkgxNi4wMDN6Ii8+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoLTEzNSA3Ljk0MyA2Ljc4NykiIHN0eWxlPSJmaWxsOnVybCgjMHdwbzZ3a3F3YSkiIGQ9Ik00Ljc2NCAxLjk3aDYuMzU3djkuNjM1SDQuNzY0eiIvPjxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDEzNSA4LjEwNiAyNS4zNDQpIiBzdHlsZT0iZmlsbDp1cmwoI3A4MHYwYzAydmIpIiBkPSJNNC45MjggMjAuMjk1aDYuMzU3djEwLjA5OEg0LjkyOHoiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMjcuMTYxIDE4Ljg2MykiIHN0eWxlPSJmaWxsOnVybCgjZGswMnc1dDB5YykiIGQ9Ik0yMy45ODIgMTUuNTYxaDYuMzU3djYuNjA0aC02LjM1N3oiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtNzAuNzkgMTAuMjYyIDI3LjE5NSkiIHN0eWxlPSJmaWxsOnVybCgjb24xejRvcTZlZCkiIGQ9Ik03LjA4NCAyNC42NTVoNi4zNTd2NS4wOEg3LjA4NHoiLz48cGF0aCBkPSJNOC45ODIgMjAuOThoLTZjLTEuMTAzIDAtMi0uODk3LTItMnYtNmMwLTEuMTAzLjg5Ny0yIDItMmg2YzEuMTAzIDAgMiAuODk3IDIgMnY2YzAgMS4xMDMtLjg5NyAyLTIgMnptLTYtOHY2aDYuMDAxdi02SDIuOTgyek0yOS4wMDIgMzFoLTEzYy0xLjEwMyAwLTItLjg5Ny0yLTJ2LTRjMC0xLjEwMy44OTctMiAyLTJoMTNjMS4xMDMgMCAyIC44OTcgMiAydjRjMCAxLjEwMy0uODk3IDItMiAyem0tMTMtNnY0aDEzLjAwMXYtNEgxNi4wMDJ6IiBzdHlsZT0iZmlsbDojZmZmIi8+PGNpcmNsZSBjeD0iMTkuMDAyIiBjeT0iMjciIHI9IjEiIHN0eWxlPSJmaWxsOiNmZmYiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgMTMuNTQzIDQuMDMyKSIgc3R5bGU9ImZpbGw6dXJsKCNkbDQ5dzlhd2dlKSIgZD0iTTEwLjM2NCAxLjQ5Mmg2LjM1N3Y1LjA4aC02LjM1N3oiLz48L21hc2s+PC9kZWZzPjxnIHN0eWxlPSJtYXNrOnVybCgjOG5zZ3FxYnBjZikiPjxwYXRoIHN0eWxlPSJmaWxsOnVybCgjemI2Y3VlbnRsZykiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48L2c+PHBhdGggZD0iTTI1LjQ2MiAxMkgxOWExIDEgMCAwIDEtMS0xVjQuMDM1YTEgMSAwIDAgMSAuOTk3LTFsMTItLjAzNUgzMWExIDEgMCAwIDEgLjc4NCAxLjYyMWwtNS41MzggN2EuOTk4Ljk5OCAwIDAgMS0uNzg0LjM3OXpNMjAgMTBoNC45NzhsMy45NTEtNC45OTRMMjAgNS4wMzJWMTB6IiBzdHlsZT0iZmlsbDojMDAxZDZjIi8+PC9zdmc+",
      "features": [
        {
          "description": "Power Virtual Server instances are created for you, containing prepared instances for SAP HANA and SAP NetWeaver.",
          "title": "Create Power Virtual Server instances"
        }
      ],
      "flavors": [
        {
          "label": "SAP ready PowerVS",
          "name": "sap-ready-to-go",
          "install_type": "extension",
          "working_directory": "solutions/ibm-catalog/sap-ready-to-go",
          "compliance": {},
          "dependencies": [
            {
              "flavors": [
                "powervs-workspace",
                "powervs-import-workspace",
                "powervs-quickstart",
                "standard",
                "standard-extend",
                "import"
              ],
              "id": "2dd486c7-b317-4aaa-907b-42671485ad96-global",
              "name": "deploy-arch-ibm-pvs-inf",
              "install_type": "fullstack",
              "version": ">=5.0.0"
            }
          ],
          "configuration": [
            {
              "key": "prerequisite_workspace_id",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "catalogID": "1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc",
                  "offeringID": "2dd486c7-b317-4aaa-907b-42671485ad96-global",
                  "versionConstraint": ">=5.0.0"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "schematics_workspace"
              }
            },
            {
              "key": "powervs_zone",
              "type": "string",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (dallas)",
                  "value": "us-south"
                },
                {
                  "displayname": "Dallas 10 (dal10)",
                  "value": "dal10"
                },
                {
                  "displayname": "Dallas 12 (dal12)",
                  "value": "dal12"
                },
                {
                  "displayname": "Frankfurt 1 (eu-de-1)",
                  "value": "eu-de-1"
                },
                {
                  "displayname": "Frankfurt 2 (eu-de-2)",
                  "value": "eu-de-2"
                },
                {
                  "displayname": "London 04 (lon04) Non-PER",
                  "value": "lon04"
                },
                {
                  "displayname": "London 06 (lon06)",
                  "value": "lon06"
                },
                {
                  "displayname": "Montreal 01 (mon01) Non-PER",
                  "value": "mon01"
                },
                {
                  "displayname": "Osaka 21 (osa21)",
                  "value": "osa21"
                },
                {
                  "displayname": "Sao Paulo 01 (sao01)",
                  "value": "sao01"
                },
                {
                  "displayname": "Sao Paulo 04 (sao04)",
                  "value": "sao04"
                },
                {
                  "displayname": "Sydney 04 (syd04)",
                  "value": "syd04"
                },
                {
                  "displayname": "Sydney 05 (syd05)",
                  "value": "syd05"
                },
                {
                  "displayname": "Tokyo 04 (tok04)",
                  "value": "tok04"
                },
                {
                  "displayname": "Toronto 01 (tor01)",
                  "value": "tor01"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Washington DC 06 (wdc06)",
                  "value": "wdc06"
                },
                {
                  "displayname": "Washington DC 07 (wdc07)",
                  "value": "wdc07"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "prefix",
              "required": true,
              "default_value": ""
            },
            {
              "key": "powervs_sap_network_cidr",
              "required": true
            },
            {
              "key": "os_image_distro",
              "type": "string",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "RHEL",
                  "value": "RHEL"
                },
                {
                  "displayname": "SLES",
                  "value": "SLES"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "powervs_create_separate_sharefs_instance",
              "required": true,
              "default_value": ""
            },
            {
              "key": "powervs_hana_instance_name",
              "required": true
            },
            {
              "key": "powervs_hana_instance_sap_profile_id",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_count",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_name",
              "required": true
            },
            {
              "key": "powervs_netweaver_cpu_number",
              "required": true
            },
            {
              "key": "powervs_netweaver_memory_size",
              "required": true
            },
            {
              "key": "ssh_private_key",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ibmcloud_api_key",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "sap_domain",
              "required": true
            },
            {
              "key": "powervs_hana_instance_custom_storage_config",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_hana_instance_additional_storage_config",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_netweaver_instance_storage_config",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_sharefs_instance",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_default_sap_images",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            }
          ],
          "outputs": [
            {
              "key": "infrastructure_data"
            },
            {
              "key": "access_host_or_ip"
            },
            {
              "key": "powervs_hana_instance_ips"
            },
            {
              "key": "powervs_hana_instance_management_ip"
            },
            {
              "key": "powervs_netweaver_instance_ips"
            },
            {
              "key": "powervs_netweaver_instance_management_ips"
            },
            {
              "key": "powervs_sharefs_instance_ips"
            },
            {
              "key": "powervs_lpars_data"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "is.vpc"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "transit.gateway"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "directlink.connect"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::serviceRole:Manager"],
              "service_name": "power-iaas"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "SAP solution",
                "description": "Not installed"
              },
              {
                "title": "PowerVS instances",
                "description": "SAP HANA Instance: 1\n\nSAP NetWeaver Instances: 0,1..N\n\nShared SAP Instance: 0 or 1"
              },
              {
                "title": "Power Virtual Server with VPC landing zone",
                "description": "Available"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Full SAP environment provisioned on a 'Power Virtual Server with VPC landing zone'",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-ready-to-go/deploy-arch-ibm-pvs-sap-ready-to-go.svg",
                  "type": "image/svg+xml"
                },
                "description": "'SAP ready PowerVS' variation of 'Power Virtual Server for SAP HANA' creates a basic and expandable SAP system landscape builds on the foundation of the 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation.\n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management and the network connectivity configuration provided by 'Power Virtual Server with VPC landing zone'."
              }
            ]
          }
        },
        {
          "label": "SAP S/4HANA or BW/4HANA",
          "name": "sap-s4hana-bw4hana",
          "install_type": "extension",
          "working_directory": "solutions/ibm-catalog/sap-s4hana-bw4hana",
          "compliance": {},
          "dependencies": [
            {
              "flavors": [
                "powervs-workspace",
                "powervs-import-workspace",
                "powervs-quickstart",
                "standard",
                "standard-extend",
                "import"
              ],
              "id": "2dd486c7-b317-4aaa-907b-42671485ad96-global",
              "name": "deploy-arch-ibm-pvs-inf",
              "install_type": "fullstack",
              "version": ">=5.0.0"
            }
          ],
          "configuration": [
            {
              "key": "prerequisite_workspace_id",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "catalogID": "1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc",
                  "offeringID": "2dd486c7-b317-4aaa-907b-42671485ad96-global",
                  "versionConstraint": ">=5.0.0"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "schematics_workspace"
              }
            },
            {
              "key": "powervs_zone",
              "type": "string",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (dallas)",
                  "value": "us-south"
                },
                {
                  "displayname": "Dallas 10 (dal10)",
                  "value": "dal10"
                },
                {
                  "displayname": "Dallas 12 (dal12)",
                  "value": "dal12"
                },
                {
                  "displayname": "Frankfurt 1 (eu-de-1)",
                  "value": "eu-de-1"
                },
                {
                  "displayname": "Frankfurt 2 (eu-de-2)",
                  "value": "eu-de-2"
                },
                {
                  "displayname": "London 04 (lon04) Non-PER",
                  "value": "lon04"
                },
                {
                  "displayname": "London 06 (lon06)",
                  "value": "lon06"
                },
                {
                  "displayname": "Montreal 01 (mon01) Non-PER",
                  "value": "mon01"
                },
                {
                  "displayname": "Osaka 21 (osa21)",
                  "value": "osa21"
                },
                {
                  "displayname": "Sao Paulo 01 (sao01)",
                  "value": "sao01"
                },
                {
                  "displayname": "Sao Paulo 04 (sao04)",
                  "value": "sao04"
                },
                {
                  "displayname": "Sydney 04 (syd04)",
                  "value": "syd04"
                },
                {
                  "displayname": "Sydney 05 (syd05)",
                  "value": "syd05"
                },
                {
                  "displayname": "Tokyo 04 (tok04)",
                  "value": "tok04"
                },
                {
                  "displayname": "Toronto 01 (tor01)",
                  "value": "tor01"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Washington DC 06 (wdc06)",
                  "value": "wdc06"
                },
                {
                  "displayname": "Washington DC 07 (wdc07)",
                  "value": "wdc07"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "prefix",
              "required": true,
              "default_value": ""
            },
            {
              "key": "powervs_sap_network_cidr",
              "required": true
            },
            {
              "key": "powervs_create_separate_sharefs_instance",
              "required": true,
              "default_value": ""
            },
            {
              "key": "powervs_hana_instance_name",
              "required": true
            },
            {
              "key": "powervs_hana_instance_sap_profile_id",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_name",
              "required": true
            },
            {
              "key": "powervs_netweaver_cpu_number",
              "required": true
            },
            {
              "key": "powervs_netweaver_memory_size",
              "required": true
            },
            {
              "key": "ibmcloud_cos_service_credentials",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ibmcloud_cos_configuration",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_solution",
              "type": "string",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "S/4HANA 2023",
                  "value": "s4hana-2023"
                },
                {
                  "displayname": "S/4HANA 2022",
                  "value": "s4hana-2022"
                },
                {
                  "displayname": "S/4HANA 2021",
                  "value": "s4hana-2021"
                },
                {
                  "displayname": "S/4HANA 2020",
                  "value": "s4hana-2020"
                },
                {
                  "displayname": "BW/4HANA 2021",
                  "value": "bw4hana-2021"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "sap_hana_master_password",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "sap_hana_vars",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_swpm_master_password",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "sap_solution_vars",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_domain",
              "required": true
            },
            {
              "key": "ansible_vault_password",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ssh_private_key",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ibmcloud_api_key",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "powervs_hana_instance_custom_storage_config"
            },
            {
              "key": "powervs_hana_instance_additional_storage_config"
            },
            {
              "key": "powervs_netweaver_instance_storage_config"
            },
            {
              "key": "powervs_sharefs_instance",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_default_sap_images",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            }
          ],
          "outputs": [
            {
              "key": "infrastructure_data"
            },
            {
              "key": "access_host_or_ip"
            },
            {
              "key": "powervs_hana_instance_ips"
            },
            {
              "key": "powervs_hana_instance_management_ip"
            },
            {
              "key": "powervs_netweaver_instance_ips"
            },
            {
              "key": "powervs_netweaver_instance_management_ip"
            },
            {
              "key": "powervs_sharefs_instance_ips"
            },
            {
              "key": "powervs_lpars_data"
            },
            {
              "key": "sap_hana_vars"
            },
            {
              "key": "sap_solution_vars"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "is.vpc"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "transit.gateway"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "directlink.connect"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::serviceRole:Manager"],
              "service_name": "power-iaas"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "SAP solution",
                "description": "Installed: SAP S/4HANA or BW/4HANA "
              },
              {
                "title": "PowerVS instances",
                "description": "SAP HANA Instance: 1\n\nSAP NetWeaver Instances: 1\n\nShared SAP Instance: 0 or 1"
              },
              {
                "title": "Power Virtual Server with VPC landing zone",
                "description": "Available"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Full SAP S/4HANA or BW/4HANA environment provisioned on a 'Power Virtual Server with VPC landing zone'",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-s4hana-bw4hana/deploy-arch-ibm-pvs-sap-s4hana-bw4hana.svg",
                  "type": "image/svg+xml"
                },
                "description": "'SAP S/4HANA or BW/4HANA' variation of 'Power Virtual Server for SAP HANA' creates a basic and expandable SAP system landscape builds on the foundation of 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation. S/4HANA or BW/4HANA solution is installed based on selected version. \n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management and the network connectivity configuration provided by the 'Power Virtual Server with VPC landing zone'."
              }
            ]
          }
        },
        {
          "label": "SAP ready PowerVS Stack",
          "name": "sap-ready-to-go-stack",
          "install_type": "fullstack",
          "working_directory": "solutions/ibm-catalog/stack/sap-ready-to-go",
          "compliance": {},
          "configuration": [
            {
              "key": "powervs_zone",
              "type": "string",
              "default_value": "",
              "description": "IBM Cloud data center location corresponding to the location used in 'Power Virtual Server with VPC landing zone' pre-requisite deployment.",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (dallas)",
                  "value": "us-south"
                },
                {
                  "displayname": "Dallas 10 (dal10)",
                  "value": "dal10"
                },
                {
                  "displayname": "Dallas 12 (dal12)",
                  "value": "dal12"
                },
                {
                  "displayname": "Frankfurt 1 (eu-de-1)",
                  "value": "eu-de-1"
                },
                {
                  "displayname": "Frankfurt 2 (eu-de-2)",
                  "value": "eu-de-2"
                },
                {
                  "displayname": "London 04 (lon04) Non-PER",
                  "value": "lon04"
                },
                {
                  "displayname": "London 06 (lon06)",
                  "value": "lon06"
                },
                {
                  "displayname": "Montreal 01 (mon01) Non-PER",
                  "value": "mon01"
                },
                {
                  "displayname": "Osaka 21 (osa21)",
                  "value": "osa21"
                },
                {
                  "displayname": "Sao Paulo 01 (sao01)",
                  "value": "sao01"
                },
                {
                  "displayname": "Sao Paulo 04 (sao04)",
                  "value": "sao04"
                },
                {
                  "displayname": "Sydney 04 (syd04)",
                  "value": "syd04"
                },
                {
                  "displayname": "Sydney 05 (syd05)",
                  "value": "syd05"
                },
                {
                  "displayname": "Tokyo 04 (tok04)",
                  "value": "tok04"
                },
                {
                  "displayname": "Toronto 01 (tor01)",
                  "value": "tor01"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Washington DC 06 (wdc06)",
                  "value": "wdc06"
                },
                {
                  "displayname": "Washington DC 07 (wdc07)",
                  "value": "wdc07"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "powervs_resource_group_name",
              "default_value": "",
              "description": "Existing IBM Cloud resource group name.",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "identifier": "rg_name"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "resource_group"
              }
            },
            {
              "key": "power_infrastructure_prefix",
              "description": "A unique identifier for power infrastructure resources. Must begin with a lowercase letter and end with a lowercase letter or number. This prefix will be prepended to any resources provisioned by this template. Prefixes must be 16 or fewer characters.",
              "required": true
            },
            {
              "key": "external_access_ip",
              "default_value": "__NULL__",
              "description": "Specify the source IP address or CIDR for login through SSH to the environment after deployment. Access to the environment will be allowed only from this IP address.",
              "required": true
            },
            {
              "key": "ssh_public_key",
              "type": "multiline_secure_value",
              "description": "Public SSH Key for VSI creation. Must be an RSA key with a key size of either 2048 bits or 4096 bits (recommended). Must be a valid SSH key that does not already exist in the deployment region.",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ssh_private_key",
              "type": "multiline_secure_value",
              "description": "Private SSH key (RSA format) to login to Intel VSIs to configure network management services (SQUID, NTP, NFS, DNS and ansible). Should match to public SSH key referenced by 'ssh_public_key'. The key is not uploaded or stored. For more information about SSH keys, see [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys).",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "powervs_image_names",
              "description": "List of Images to be imported into cloud account from catalog images. Supported values can be found [here](https://github.com/terraform-ibm-modules/terraform-ibm-powervs-infrastructure/blob/main/solutions/full-stack/docs/catalog_image_names.md).",
              "required": true
            },
            {
              "key": "sap_system_prefix",
              "description": "Unique prefix for resources to be created (e.g., SAP system name). Max length must be less than or equal to 6.",
              "required": true
            },
            {
              "key": "powervs_sap_network_cidr",
              "default_value": "10.53.0.0/24",
              "description": "Network range for dedicated SAP network. Used for communication between SAP Application servers with SAP HANA Database. E.g., '10.53.0.0/24'",
              "required": true
            },
            {
              "key": "os_image_distro",
              "type": "string",
              "default_value": "",
              "description": "Image distribution to use for all instances(Shared, HANA, NetWeaver). OS release versions may be specified in 'powervs_sap_default_images' optional parameters below.",
              "required": true,
              "options": [
                {
                  "displayname": "RHEL",
                  "value": "RHEL"
                },
                {
                  "displayname": "SLES",
                  "value": "SLES"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "powervs_create_separate_sharefs_instance",
              "default_value": false,
              "description": "Deploy separate IBM PowerVS instance as central file system share. All filesystems defined in 'powervs_sharefs_instance_storage_config' variable will be NFS exported and mounted on SAP NetWeaver PowerVS instances if enabled. Optional parameter 'powervs_share_fs_instance' can be configured if enabled.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_name",
              "description": "PowerVS SAP HANA instance hostname (non FQDN). Will get the form of <var.prefix>-<var.powervs_hana_instance_name>. Max length of final hostname must be <= 13 characters.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_sap_profile_id",
              "description": "PowerVS SAP HANA instance profile to use. Must be one of the supported profiles. See [here](https://cloud.ibm.com/docs/sap?topic=sap-hana-iaas-offerings-profiles-power-vs). File system sizes are automatically calculated. Override automatic calculation by setting values in optional parameter 'powervs_hana_instance_custom_storage_config'.",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_count",
              "description": "Number of PowerVS SAP NetWeaver instances that should be created.",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_name",
              "description": "PowerVS SAP NetWeaver instance hostname (non FQDN). Will get the form of <var.prefix>-<var.powervs_netweaver_instance_name>-<number>. Max length of final hostname must be <= 13 characters.",
              "required": true
            },
            {
              "key": "powervs_netweaver_cpu_number",
              "description": "Number of CPUs for each PowerVS SAP NetWeaver instance.",
              "required": true
            },
            {
              "key": "powervs_netweaver_memory_size",
              "description": "Memory size for each PowerVS SAP NetWeaver instance.",
              "required": true
            },
            {
              "key": "sap_domain",
              "description": "SAP network domain name.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_custom_storage_config",
              "description": "Custom file systems to be created and attached to PowerVS SAP HANA instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS.",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_hana_instance_additional_storage_config",
              "description": "Additional File systems to be created and attached to PowerVS SAP HANA instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS.",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_netweaver_instance_storage_config",
              "description": "File systems to be created and attached to PowerVS SAP NetWeaver instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS. Do not specify volume for 'sapmnt' as this will be created internally if 'powervs_create_separate_sharefs_instance' is false, else 'sapmnt' will mounted from sharefs instance.",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_sharefs_instance",
              "description": "Share fs instance. This parameter is effective if 'powervs_create_separate_sharefs_instance' is set to true. size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS.",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "powervs_default_sap_images",
              "description": "Default Red Hat Linux images to use for PowerVS SAP HANA and SAP NetWeaver instances.",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "nfs_directory",
              "description": "Target directory on which the file storage share from VPC will be mounted."
            },
            {
              "key": "powervs_management_network",
              "description": "Name of the IBM Cloud PowerVS management subnet and CIDR to create."
            },
            {
              "key": "powervs_backup_network",
              "description": "Name of the IBM Cloud PowerVS backup network and CIDR to create."
            },
            {
              "key": "tags",
              "description": "List of tag names for the IBM Cloud PowerVS workspace."
            },
            {
              "key": "sm_service_plan",
              "description": "The service/pricing plan to use when provisioning a new Secrets Manager instance. Allowed values: `standard` and `trial`. Only used if `existing_sm_instance_guid` is set to null."
            }
          ],
          "outputs": [
            {
              "key": "infrastructure_data"
            },
            {
              "key": "access_host_or_ip"
            },
            {
              "key": "powervs_hana_instance_ips"
            },
            {
              "key": "powervs_hana_instance_management_ip"
            },
            {
              "key": "powervs_netweaver_instance_ips"
            },
            {
              "key": "powervs_netweaver_instance_management_ips"
            },
            {
              "key": "powervs_sharefs_instance_ips"
            },
            {
              "key": "powervs_lpars_data"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "is.vpc"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "transit.gateway"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "directlink.connect"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::serviceRole:Manager"],
              "service_name": "power-iaas"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "SAP solution",
                "description": "Not installed"
              },
              {
                "title": "PowerVS instances",
                "description": "SAP HANA Instance: 1\n\nSAP NetWeaver Instances: 0,1..N\n\nShared SAP Instance: 0 or 1"
              },
              {
                "title": "Power Virtual Server with VPC landing zone",
                "description": "Available"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Full SAP environment provisioned on a 'Power Virtual Server with VPC landing zone'",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-ready-to-go/deploy-arch-ibm-pvs-sap-ready-to-go.svg",
                  "type": "image/svg+xml"
                },
                "description": "'SAP ready PowerVS' variation of 'Power Virtual Server for SAP HANA' creates a basic and expandable SAP system landscape builds on the foundation of the 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation.\n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management and the network connectivity configuration provided by 'Power Virtual Server with VPC landing zone'."
              }
            ]
          }
        },
        {
          "label": "SAP S/4HANA or BW/4HANA Stack",
          "name": "sap-s4hana-bw4hana-stack",
          "install_type": "fullstack",
          "working_directory": "solutions/ibm-catalog/stack/sap-s4hana-bw4hana",
          "compliance": {},
          "configuration": [
            {
              "key": "powervs_zone",
              "type": "string",
              "default_value": "",
              "description": "IBM Cloud data center location corresponding to the location used in 'Power Virtual Server with VPC landing zone' pre-requisite deployment.",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (dallas)",
                  "value": "us-south"
                },
                {
                  "displayname": "Dallas 10 (dal10)",
                  "value": "dal10"
                },
                {
                  "displayname": "Dallas 12 (dal12)",
                  "value": "dal12"
                },
                {
                  "displayname": "Frankfurt 1 (eu-de-1)",
                  "value": "eu-de-1"
                },
                {
                  "displayname": "Frankfurt 2 (eu-de-2)",
                  "value": "eu-de-2"
                },
                {
                  "displayname": "London 04 (lon04) Non-PER",
                  "value": "lon04"
                },
                {
                  "displayname": "London 06 (lon06)",
                  "value": "lon06"
                },
                {
                  "displayname": "Montreal 01 (mon01) Non-PER",
                  "value": "mon01"
                },
                {
                  "displayname": "Osaka 21 (osa21)",
                  "value": "osa21"
                },
                {
                  "displayname": "Sao Paulo 01 (sao01)",
                  "value": "sao01"
                },
                {
                  "displayname": "Sao Paulo 04 (sao04)",
                  "value": "sao04"
                },
                {
                  "displayname": "Sydney 04 (syd04)",
                  "value": "syd04"
                },
                {
                  "displayname": "Sydney 05 (syd05)",
                  "value": "syd05"
                },
                {
                  "displayname": "Tokyo 04 (tok04)",
                  "value": "tok04"
                },
                {
                  "displayname": "Toronto 01 (tor01)",
                  "value": "tor01"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Washington DC 06 (wdc06)",
                  "value": "wdc06"
                },
                {
                  "displayname": "Washington DC 07 (wdc07)",
                  "value": "wdc07"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "powervs_resource_group_name",
              "required": true,
              "default_value": "",
              "description": "Existing IBM Cloud resource group name.",
              "custom_config": {
                "config_constraints": {
                  "identifier": "rg_name"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "resource_group"
              }
            },
            {
              "key": "power_infrastructure_prefix",
              "type": "string",
              "description": "A unique identifier for power infrastructure resources. Must begin with a lowercase letter and end with a lowercase letter or number. This prefix will be prepended to any resources provisioned by this template. Prefixes must be 16 or fewer characters.",
              "required": true
            },

            {
              "key": "external_access_ip",
              "type": "string",
              "description": "Specify the source IP address or CIDR for login through SSH to the environment after deployment. Access to the environment will be allowed only from this IP address.",
              "required": true
            },
            {
              "key": "client_to_site_vpn",
              "description": "VPN configuration - the client ip pool and list of users email ids to access the environment. If enabled, then a Secret Manager instance is also provisioned with certificates generated. See optional parameters to reuse existing certificate from secrets manager instance.",
              "required": true
            },
            {
              "key": "ssh_public_key",
              "type": "multiline_secure_value",
              "description": "Public SSH Key for VSI creation. Must be an RSA key with a key size of either 2048 bits or 4096 bits (recommended). Must be a valid SSH key that does not already exist in the deployment region.",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ssh_private_key",
              "type": "password",
              "description": "Private SSH key (RSA format) used to login to IBM PowerVS instances. Should match to public SSH key referenced by 'ssh_public_key'. Entered data must be in [heredoc strings format](https://www.terraform.io/language/expressions/strings#heredoc-strings). The key is not uploaded or stored. For more information about SSH keys, see [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys).",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "type": "multiline_secure_value",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "powervs_image_names",
              "type": "array",
              "description": "List of Images to be imported into cloud account from catalog images. Supported values can be found [here](https://github.com/terraform-ibm-modules/terraform-ibm-powervs-infrastructure/blob/main/solutions/full-stack/docs/catalog_image_names.md).",
              "required": true
            },
            {
              "key": "sap_system_prefix",
              "type": "string",
              "description": "Unique prefix for resources to be created (e.g., SAP system name). Max length must be less than or equal to 6.",
              "required": true
            },
            {
              "key": "powervs_sap_network_cidr",
              "type": "string",
              "description": "Network range for dedicated SAP network. Used for communication between SAP Application servers with SAP HANA Database. E.g., '10.53.0.0/24'",
              "required": true
            },
            {
              "key": "powervs_create_separate_sharefs_instance",
              "type": "boolean",
              "description": "Deploy separate IBM PowerVS instance as central file system share. All filesystems defined in 'powervs_sharefs_instance_storage_config' variable will be NFS exported and mounted on SAP NetWeaver PowerVS instances if enabled. Optional parameter 'powervs_share_fs_instance' can be configured if enabled.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_name",
              "type": "string",
              "description": "PowerVS SAP HANA instance hostname (non FQDN). Will get the form of <var.prefix>-<var.powervs_hana_instance_name>. Max length of final hostname must be <= 13 characters.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_sap_profile_id",
              "type": "string",
              "description": "PowerVS SAP HANA instance profile to use. Must be one of the supported profiles. See [here](https://cloud.ibm.com/docs/sap?topic=sap-hana-iaas-offerings-profiles-power-vs). File system sizes are automatically calculated. Override automatic calculation by setting values in optional parameter 'powervs_hana_instance_custom_storage_config'.",
              "required": true
            },
            {
              "key": "powervs_netweaver_instance_name",
              "description": "PowerVS SAP NetWeaver instance hostname (non FQDN). Will get the form of <var.prefix>-<var.powervs_netweaver_instance_name>-<number>. Max length of final hostname must be <= 13 characters.",
              "required": true
            },
            {
              "key": "powervs_netweaver_cpu_number",
              "description": "Number of CPUs for each PowerVS SAP NetWeaver instance.",
              "required": true
            },
            {
              "key": "powervs_netweaver_memory_size",
              "description": "Memory size for each PowerVS SAP NetWeaver instance.",
              "required": true
            },
            {
              "key": "ibmcloud_cos_service_credentials",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "description": "IBM Cloud Object Storage instance service credentials to access the bucket in the instance.[json example of service credential](https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-service-credentials)",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ibmcloud_cos_configuration",
              "description": "Cloud Object Storage instance containing SAP installation files that will be downloaded to NFS share. 'cos_hana_software_path' must contain only binaries required for HANA DB installation. 'cos_solution_software_path' must contain only binaries required for S/4HANA or BW/4HANA installation and must not contain any IMDB files. The binaries required for installation can be found [here](https://github.com/terraform-ibm-modules/terraform-ibm-powervs-sap/blob/main/solutions/ibm-catalog/sap-s4hana-bw4hana/docs/s4hana23_bw4hana21_binaries.md) If you have an optional stack xml file (maintenance planner), place it under the 'cos_solution_software_path' directory. Avoid inserting '/' at the beginning for 'cos_hana_software_path' and 'cos_solution_software_path'.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_solution",
              "type": "string",
              "default_value": "",
              "description": "SAP Solution to be installed on Power Virtual Server.",
              "required": true,
              "options": [
                {
                  "displayname": "S/4HANA 2022",
                  "value": "s4hana-2022"
                },
                {
                  "displayname": "S/4HANA 2021",
                  "value": "s4hana-2021"
                },
                {
                  "displayname": "S/4HANA 2020",
                  "value": "s4hana-2020"
                },
                {
                  "displayname": "BW/4HANA 2021",
                  "value": "bw4hana-2021"
                }
              ],
              "custom_config": {}
            },
            {
              "key": "sap_hana_master_password",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "description": "SAP HANA master password.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "sap_hana_vars",
              "description": "SAP HANA SID and instance number.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_swpm_master_password",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "description": "SAP SWPM master password.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "sap_solution_vars",
              "description": "SAP SID, ASCS and PAS instance numbers.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_domain",
              "description": "SAP network domain name.",
              "required": true
            },
            {
              "key": "ansible_vault_password",
              "type": "multiline_secure_value",
              "description": "Vault password to encrypt SAP installation parameters in the OS.",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "powervs_hana_instance_custom_storage_config",
              "description": "Custom file systems to be created and attached to PowerVS SAP HANA instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS."
            },
            {
              "key": "powervs_hana_instance_additional_storage_config",
              "description": "Additional File systems to be created and attached to PowerVS SAP HANA instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS."
            },
            {
              "key": "powervs_netweaver_instance_storage_config",
              "description": "File systems to be created and attached to PowerVS SAP NetWeaver instance. 'size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS. Do not specify volume for 'sapmnt' as this will be created internally if 'powervs_create_separate_sharefs_instance' is false, else 'sapmnt' will mounted from sharefs instance."
            },
            {
              "key": "powervs_sharefs_instance",
              "description": "Share fs instance. This parameter is effective if 'powervs_create_separate_sharefs_instance' is set to true. size' is in GB. 'count' specify over how many storage volumes the file system will be striped. 'tier' specifies the storage tier in PowerVS workspace. 'mount' specifies the target mount point on OS."
            },
            {
              "key": "powervs_default_sap_images",
              "description": "Default Red Hat Linux images to use for PowerVS SAP HANA and SAP NetWeaver instances."
            },
            {
              "key": "nfs_directory",
              "description": "Target directory on which the file storage share from VPC will be mounted."
            },
            {
              "key": "powervs_management_network",
              "description": "Name of the IBM Cloud PowerVS management subnet and CIDR to create."
            },
            {
              "key": "powervs_backup_network",
              "description": "Name of the IBM Cloud PowerVS backup network and CIDR to create."
            },
            {
              "key": "tags",
              "description": "List of tag names for the IBM Cloud PowerVS workspace."
            },
            {
              "key": "sm_service_plan",
              "description": "The service/pricing plan to use when provisioning a new Secrets Manager instance. Allowed values: `standard` and `trial`. Only used if `existing_sm_instance_guid` is set to null."
            }
          ],
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "is.vpc"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "transit.gateway"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "directlink.connect"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::serviceRole:Manager"],
              "service_name": "power-iaas"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "SAP solution",
                "description": "Not installed"
              },
              {
                "title": "PowerVS instances",
                "description": "SAP HANA Instance: 1\n\nSAP NetWeaver Instances: 0,1..N\n\nShared SAP Instance: 0 or 1"
              },
              {
                "title": "Power Virtual Server with VPC landing zone",
                "description": "Available"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Full SAP environment provisioned on a 'Power Virtual Server with VPC landing zone'",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-ready-to-go/deploy-arch-ibm-pvs-sap-ready-to-go.svg",
                  "type": "image/svg+xml"
                },
                "description": "'SAP S/4HANA or BW/4HANA Stack' variation of 'Power Virtual Server for SAP HANA' creates an end-to-end SAP system landscape built on the foundation of the 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation. S/4HANA or BW/4HANA solution is installed based on selected version. \n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nRedundant IBM Cloud Connections provide the network bridge between the IBM Power infrastructure and the IBM VPC and public internet.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management and the network connectivity configuration provided by the 'Power Virtual Server with VPC landing zone'."
              }
            ]
          }
        },
        {
          "label": "SAP S/4HANA or BW/4HANA Demo Stack",
          "name": "sap-s4hana-bw4hana-demo-stack",
          "install_type": "fullstack",
          "working_directory": "solutions/ibm-catalog/stack/sap-s4hana-bw4hana-demo",
          "compliance": {},
          "configuration": [
            {
              "key": "powervs_zone",
              "type": "string",
              "description": "IBM Cloud data center location corresponding to the location used in 'Power Virtual Server with VPC landing zone' pre-requisite deployment.",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (dallas)",
                  "value": "us-south"
                },
                {
                  "displayname": "Dallas 10 (dal10)",
                  "value": "dal10"
                },
                {
                  "displayname": "Dallas 12 (dal12)",
                  "value": "dal12"
                },
                {
                  "displayname": "Frankfurt 1 (eu-de-1)",
                  "value": "eu-de-1"
                },
                {
                  "displayname": "Frankfurt 2 (eu-de-2)",
                  "value": "eu-de-2"
                },
                {
                  "displayname": "London 04 (lon04) Non-PER",
                  "value": "lon04"
                },
                {
                  "displayname": "London 06 (lon06)",
                  "value": "lon06"
                },
                {
                  "displayname": "Montreal 01 (mon01) Non-PER",
                  "value": "mon01"
                },
                {
                  "displayname": "Osaka 21 (osa21)",
                  "value": "osa21"
                },
                {
                  "displayname": "Sao Paulo 01 (sao01)",
                  "value": "sao01"
                },
                {
                  "displayname": "Sao Paulo 04 (sao04)",
                  "value": "sao04"
                },
                {
                  "displayname": "Sydney 04 (syd04)",
                  "value": "syd04"
                },
                {
                  "displayname": "Sydney 05 (syd05)",
                  "value": "syd05"
                },
                {
                  "displayname": "Tokyo 04 (tok04)",
                  "value": "tok04"
                },
                {
                  "displayname": "Toronto 01 (tor01)",
                  "value": "tor01"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Washington DC 06 (wdc06)",
                  "value": "wdc06"
                },
                {
                  "displayname": "Washington DC 07 (wdc07)",
                  "value": "wdc07"
                }
              ],
              "custom_config": {}
            },

            {
              "key": "power_infrastructure_prefix",
              "type": "string",
              "description": "A unique identifier for power infrastructure resources. Must begin with a lowercase letter and end with a lowercase letter or number. This prefix will be prepended to any resources provisioned by this template. Prefixes must be 16 or fewer characters.",
              "required": true
            },

            {
              "key": "external_access_ip",
              "type": "string",
              "description": "Specify the source IP address or CIDR for login through SSH to the environment after deployment. Access to the environment will be allowed only from this IP address.",
              "required": true
            },
            {
              "key": "client_to_site_vpn",
              "description": "VPN configuration - the client ip pool and list of users email ids to access the environment. If enabled, then a Secret Manager instance is also provisioned with certificates generated. See optional parameters to reuse existing certificate from secrets manager instance.",
              "required": true
            },
            {
              "key": "ssh_public_key",
              "type": "multiline_secure_value",
              "display_name": "Multiline secure value",
              "description": "Public SSH Key for VSI creation. Must be an RSA key with a key size of either 2048 bits or 4096 bits (recommended). Must be a valid SSH key that does not already exist in the deployment region.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ssh_private_key",
              "type": "password",
              "display_name": "Multiline secure value",
              "description": "Private SSH key (RSA format) used to login to IBM PowerVS instances. Should match to public SSH key referenced by 'ssh_public_key'. Entered data must be in [heredoc strings format](https://www.terraform.io/language/expressions/strings#heredoc-strings). The key is not uploaded or stored. For more information about SSH keys, see [SSH keys](https://cloud.ibm.com/docs/vpc?topic=vpc-ssh-keys).",
              "required": true,
              "custom_config": {
                "type": "multiline_secure_value",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "sap_system_prefix",
              "type": "string",
              "description": "Unique prefix for resources to be created (e.g., SAP system name). Max length must be less than or equal to 6.",
              "required": true
            },
            {
              "key": "powervs_hana_instance_sap_profile_id",
              "type": "string",
              "description": "PowerVS SAP HANA instance profile to use. Must be one of the supported profiles. See [here](https://cloud.ibm.com/docs/sap?topic=sap-hana-iaas-offerings-profiles-power-vs). File system sizes are automatically calculated. Override automatic calculation by setting values in optional parameter 'powervs_hana_instance_custom_storage_config'.",
              "required": true
            },
            {
              "key": "ibmcloud_cos_service_credentials",
              "type": "multiline_secure_value",
              "description": "IBM Cloud Object Storage instance service credentials to access the bucket in the instance.[json example of service credential](https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-service-credentials)",
              "display_name": "Multiline secure value",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "multiline_secure_value"
              }
            },
            {
              "key": "ibmcloud_cos_configuration",
              "description": "Cloud Object Storage instance containing SAP installation files that will be downloaded to NFS share. 'cos_hana_software_path' must contain only binaries required for HANA DB installation. 'cos_solution_software_path' must contain only binaries required for S/4HANA or BW/4HANA installation and must not contain any IMDB files. The binaries required for installation can be found [here](https://github.com/terraform-ibm-modules/terraform-ibm-powervs-sap/blob/main/solutions/ibm-catalog/sap-s4hana-bw4hana/docs/s4hana23_bw4hana21_binaries.md) If you have an optional stack xml file (maintenance planner), place it under the 'cos_solution_software_path' directory. Avoid inserting '/' at the beginning for 'cos_hana_software_path' and 'cos_solution_software_path'.",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "json_editor"
              }
            },
            {
              "key": "sap_solution",
              "type": "string",
              "description": "SAP Solution to be installed on Power Virtual Server.",
              "default_value": "",
              "required": true,
              "options": [
                {
                  "displayname": "S/4HANA 2022",
                  "value": "s4hana-2022"
                },
                {
                  "displayname": "S/4HANA 2021",
                  "value": "s4hana-2021"
                },
                {
                  "displayname": "S/4HANA 2020",
                  "value": "s4hana-2020"
                },
                {
                  "displayname": "BW/4HANA 2021",
                  "value": "bw4hana-2021"
                }
              ],
              "custom_config": {}
            }
          ],
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "is.vpc"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "transit.gateway"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "directlink.connect"
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::serviceRole:Manager"],
              "service_name": "power-iaas"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "SAP solution",
                "description": "Not installed"
              },
              {
                "title": "PowerVS instances",
                "description": "SAP HANA Instance: 1\n\nSAP NetWeaver Instances: 0,1..N\n\nShared SAP Instance: 0 or 1"
              },
              {
                "title": "Power Virtual Server with VPC landing zone",
                "description": "Available"
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Full SAP environment provisioned on a 'Power Virtual Server with VPC landing zone'",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-powervs-sap/main/reference-architectures/sap-ready-to-go/deploy-arch-ibm-pvs-sap-ready-to-go.svg",
                  "type": "image/svg+xml"
                },
                "description": "'SAP S/4HANA or BW/4HANA Stack' variation of 'Power Virtual Server for SAP HANA' creates an end-to-end SAP system landscape built on the foundation of the 'Power Virtual Server with VPC landing zone'. PowerVS instances for SAP HANA, SAP NetWeaver and optionally for shared SAP files are deployed and preconfigured for SAP installation. S/4HANA or BW/4HANA solution is installed based on selected version. \n\nServices such as DNS, NTP and NFS running in VPC and provided by 'Power Virtual Server with VPC landing zone' are leveraged.\n\nRedundant IBM Cloud Connections provide the network bridge between the IBM Power infrastructure and the IBM VPC and public internet.\n\nThe resulting SAP landscape leverages the services such as Activity Tracker, Cloud Object Storage, Key Management and the network connectivity configuration provided by the 'Power Virtual Server with VPC landing zone'."
              }
            ]
          }
        }
      ]
    }
  ]
}
